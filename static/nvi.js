// Generated by CoffeeScript 1.4.0
var die, gutter_bg, gutter_fg, keypress, terminal, text_bg, text_fg;

keypress = require('keypress');

terminal = require('./terminal');

global.delay = function(s, f) {
  return setTimeout(f, s);
};

global.interval = function(s, f) {
  return setInterval(f, s);
};

process.stdin.setRawMode(true);

keypress(process.stdin);

keypress.enableMouse(process.stdout);

die = function(err) {
  process.stdin.resume();
  process.stderr.write(err);
  return process.exit(1);
};

if (!process.stdout.isTTY) {
  die('must be in a tty');
}

process.stdout.on('resize', function() {
  return console.log("caught resize " + process.stdout.columns + ", " + process.stdout.rows);
});

process.stdin.on('keypress', function(ch, key) {
  console.log("got keypress", arguments);
  if (key && key.ctrl && key.name === 'c') {
    return process.stdin.pause();
  }
});

process.stdin.on('mousepress', function(info) {});

process.on('exit', function() {
  return keypress.disableMouse(process.stdout);
});

text_fg = 255;

text_bg = 235;

gutter_bg = 234;

gutter_fg = 240;

terminal.xbg(gutter_bg).xfg(gutter_fg).clear().go(1, 1).echo('  1 ').xfg(text_fg).xbg(text_bg).echo("how is this?");

terminal.ctl(terminal.ctl.CLEAR_EOL);

terminal.xbg(gutter_bg).xfg(gutter_fg).go(1, 2).echo('~   ');

terminal.ctl(terminal.ctl.CLEAR_EOL);

terminal.go(16, 1).xfg(255);

process.stdin.resume();
